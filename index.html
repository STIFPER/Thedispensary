<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE DISPENSARY - Flower Menu</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],        
                        mont: ['Montserrat', 'sans-serif'],    
                    },
                    colors: {
                        bg: '#1d1e1e',          
                        primary: '#a0d4b2',      
                        
                        // Terpenes Colors
                        't-myrcene': '#2b398c',
                        't-caryophyllene': '#77823d',
                        't-humulene': '#fd8b03',
                        't-limonene': '#7bc70f',
                        't-ocimene': '#009282',
                        't-phellandrene': '#fd0106',
                        't-pinene': '#08a152',
                        't-terpinolene': '#4b5e3d',
                        't-terpineol': '#ee5a29',
                        't-linalool': '#9094d8',
                        't-bisabolol': '#e6c122',
                    }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap');

        body { background-color: #1d1e1e; color: white; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1d1e1e; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* --- UPDATED BADGE STYLES WITH LOCKING --- */
        .badge {
            /* Basic Flex & Font */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            font-family: 'Inter', sans-serif;
            font-weight: 900;
            
            /* --- LOCK SIZE PROPERTIES --- */
            flex-shrink: 0;  /* ห้ามโดนบีบเมื่อจอเล็ก */
            flex-grow: 0;    /* ห้ามขยายตามเนื้อหา */
            box-sizing: border-box; /* คิดขอบรวมในขนาด */
            
            /* Starburst Shape */
            clip-path: polygon(
                50% 0%, 61% 10%, 75% 6%, 79% 20%, 93% 25%, 90% 39%, 
                100% 50%, 90% 61%, 93% 75%, 79% 80%, 75% 94%, 61% 90%, 
                50% 100%, 39% 90%, 25% 94%, 21% 80%, 7% 75%, 10% 61%, 
                0% 50%, 10% 39%, 7% 25%, 21% 20%, 25% 6%, 39% 10%
            );
            
            transition: transform 0.2s;
        }

        .badge:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .badge span {
            display: block;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.3));
            width: 100%;
            text-align: center;
        }

        /* Bright Colors */
        .badge-new    { background-color: #A4F21E; }
        .badge-buy1   { background-color: #E61633; }
        .badge-buy2   { background-color: #FF2E7E; }
        .badge-best   { background-color: #FFC107; }

    </style>
</head>
<body class="antialiased selection:bg-[#a0d4b2] selection:text-black">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- DATA ---
        const products = [
            // SATIVA
            { cat: 'SATIVA', name: 'LEMON UPZ', tags: ['NEW'], thc: '24-28%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['LIMONENE (LEMON)', 'CARYOPHYLLENE (PEPPER)'] },
            { cat: 'SATIVA', name: 'PINEAPPLE XPRESS 2.0', tags: ['BEST SELLER'], thc: '32-35%', cbd: '1-2%', p1: 700, p35: 2200, terpenes: ['MYRCENE (MUSK)', 'PINENE (PINE)'] },
            { cat: 'SATIVA', name: 'MANGO SUNSET HAZE', tags: [], thc: '20-24%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['MYRCENE (MANGO)', 'LIMONENE (LEMON)'] },
            { cat: 'SATIVA', name: "SANTA'S COOKIES", tags: ['BUY 1 GET 1'], thc: '22-26%', cbd: '<1%', p1: 700, p35: 2200, terpenes: ['LINALOOL (FLORAL)', 'CARYOPHYLLENE (EARTHY)'] },
            { cat: 'SATIVA', name: 'TROP CHERRY GAS #14', tags: ['BUY 1 GET 1'], thc: '20-22%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['MYRCENE (MUSK)', 'LIMONENE (CITRUS)'] },

            // INDICA
            { cat: 'INDICA', name: 'SWEET OCTANE', tags: ['NEW'], thc: '24-28%', cbd: '<1%', p1: 700, p35: 2200, terpenes: ['MYRCENE (FRUIT)', 'LIMONENE (GAS)'] },
            { cat: 'INDICA', name: 'CASHEW SUNDAE', tags: [], thc: '19-21%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['BISABOLOL (NUTTY)', 'CARYOPHYLLENE (EARTHY)'] },
            { cat: 'INDICA', name: 'CRESCENDO', tags: ['BUY 1 GET 1'], thc: '17-19%', cbd: '<1%', p1: 700, p35: 2200, terpenes: ['TERPINOLENE (FRUITY)', 'LINALOOL (FLORAL)'] },

            // HYBRID
            { cat: 'HYBRID', name: 'WINTER MINTS', tags: [], thc: '24-28%', cbd: '<1%', p1: 700, p35: 2200, terpenes: ['LIMONENE (CITRUS)', 'LINALOOL (FLORAL)'] },
            { cat: 'HYBRID', name: 'OREOZ', tags: [], thc: '20-24%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['MYRCENE (FRUIT)', 'CARYOPHYLLENE (EARTHY)'] },
            { cat: 'HYBRID', name: 'PURE MICHIGAN', tags: [], thc: '20-22%', cbd: '0%', p1: 700, p35: 2200, terpenes: ['MYRCENE (FRUIT)', 'CARYOPHYLLENE (PEPPER)'] },

            // CBD
            { cat: 'CBD', name: "CHARLOTTE'S ANGEL", tags: [], thc: 'N/A', cbd: '16%', p1: 400, p35: 1250, terpenes: ['MYRCENE (FRUIT)', 'LIMONENE (LEMON)'] },

            // COMPOUND
            { cat: 'COMPOUND', name: 'DA FUNK', tags: ['SATIVA'], thc: '21-23%', cbd: '<1%', p1: 700, p35: 2500, terpenes: ['OCIMENE (FRUIT)', 'MYRCENE (MUSK)'] },
            { cat: 'COMPOUND', name: 'APPLES & BANANAS', tags: ['HYBRID'], thc: '24-26%', cbd: '0.1%', p1: 700, p35: 2500, terpenes: ['LIMONENE (LEMON)', 'CARYOPHYLLENE (SPICES)'] },
            { cat: 'COMPOUND', name: 'GOOFIEZ', tags: ['INDICA'], thc: '23-25%', cbd: '0%', p1: 700, p35: 2500, terpenes: ['LIMONENE (LEMON)', 'MYRCENE (MANGO)'] },
        ];

        const preRolls = ['PINEAPPLE XPRESS 2.0', 'BERRY BOOMSTICK', 'MATCHA LOLLIPOP', 'CUBAN DOOBIE', 'VANILLA FRUITTEN PIE', 'MANGO SUNSET HAZE', 'CASHEW SUNDAE'];

        // --- COMPONENTS ---

        const TerpeneBadge = ({ name }) => {
            const key = name.split(' ')[0].toLowerCase().trim();
            const colorMap = {
                'myrcene': 'bg-t-myrcene',
                'caryophyllene': 'bg-t-caryophyllene',
                'humulene': 'bg-t-humulene',
                'limonene': 'bg-t-limonene',
                'ocimene': 'bg-t-ocimene',
                'phellandrene': 'bg-t-phellandrene',
                'pinene': 'bg-t-pinene',
                'terpinolene': 'bg-t-terpinolene',
                'terpineol': 'bg-t-terpineol',
                'linalool': 'bg-t-linalool',
                'bisabolol': 'bg-t-bisabolol',
            };
            const bgClass = colorMap[key] || 'bg-gray-600';

            return (
                <span className={`inline-block ${bgClass} text-white font-mont font-bold text-[9px] px-2 py-0.5 rounded-sm mr-1 mb-1 uppercase tracking-wide`}>
                    {name}
                </span>
            );
        };

        // --- BADGE COMPONENTS ---
        
        // This component renders the badge with strict sizing logic applied
        const BadgeElement = ({ type, size = 'sm' }) => {
            // Configuration for different sizes
            // 'full': 120px (Modal/Reference)
            // 'md': 80px (Header)
            // 'sm': 60px (List Item)
            
            const styles = {
                full: {
                    size: '120px',
                    fontNew: '26px',
                    fontBest: '22px',
                    fontBuy: '18px',
                    lh: '1.1'
                },
                md: {
                    size: '80px',
                    fontNew: '18px',
                    fontBest: '15px',
                    fontBuy: '12px',
                    lh: '1.1'
                },
                sm: {
                    size: '60px',
                    fontNew: '13px',
                    fontBest: '11px',
                    fontBuy: '9px',
                    lh: '1.1'
                }
            };
            
            const config = styles[size];
            
            // Inline style to enforce specific dimensions for this instance while respecting CSS locking
            const boxStyle = {
                width: config.size,
                height: config.size,
                minWidth: config.size,
                minHeight: config.size
            };

            if (type === 'NEW') {
                return (
                    <div className="badge badge-new" style={boxStyle}>
                        <span style={{fontSize: config.fontNew}}>NEW</span>
                    </div>
                );
            } else if (type === 'BEST SELLER') {
                return (
                    <div className="badge badge-best" style={boxStyle}>
                        <span style={{fontSize: config.fontBest, lineHeight: config.lh}}>BEST</span>
                        <span style={{fontSize: config.fontBest, lineHeight: config.lh}}>SELLER</span>
                    </div>
                );
            } else if (type === 'BUY 1') {
                return (
                    <div className="badge badge-buy1" style={boxStyle}>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>BUY 1</span>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>GET 1</span>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>FREE</span>
                    </div>
                );
            } else if (type === 'BUY 2') {
                return (
                    <div className="badge badge-buy2" style={boxStyle}>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>BUY 2</span>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>GET 1</span>
                        <span style={{fontSize: config.fontBuy, lineHeight: config.lh}}>FREE</span>
                    </div>
                );
            }
            return null;
        };

        const StatusBadge = ({ tags, size = 'sm' }) => {
            const containerClass = "flex items-center justify-center mr-2 shrink-0";
            
            if (!tags || tags.length === 0) {
                // Placeholder with same size to keep alignment
                const placeholderSize = size === 'sm' ? '60px' : size === 'md' ? '80px' : '120px';
                return <div style={{width: placeholderSize}} className="mr-2"></div>;
            }

            const tag = tags[0];
            let type = '';

            if (tag === 'NEW') type = 'NEW';
            else if (tag === 'BEST SELLER') type = 'BEST SELLER';
            else if (tag.includes('BUY 1')) type = 'BUY 1';
            
            if (type) {
                return (
                    <div className={containerClass}>
                        <BadgeElement type={type} size={size} />
                    </div>
                );
            }

            const placeholderSize = size === 'sm' ? '60px' : size === 'md' ? '80px' : '120px';
            return <div style={{width: placeholderSize}} className="mr-2"></div>;
        };

        const ProductCard = ({ product, onClick }) => (
            <div onClick={() => onClick(product)} className="group cursor-pointer py-3 px-2 hover:bg-white/5 transition-all duration-200 flex items-center justify-between border-b border-gray-700/50 last:border-0">
                <div className="flex items-center flex-1 pr-2">
                    <StatusBadge tags={product.tags} size="sm" />
                    <div className="flex flex-col justify-center">
                        <h3 className="font-inter font-black text-white text-base md:text-lg uppercase leading-tight group-hover:text-primary transition-colors mb-1">
                            {product.name}
                        </h3>
                        <div className="flex items-center gap-3 mb-1.5">
                            <span className="font-inter font-black text-white text-xs">THC {product.thc}</span>
                            <span className="font-inter font-black text-white text-xs">CBD {product.cbd}</span>
                        </div>
                        <div className="flex flex-wrap gap-1">
                            {product.terpenes.map((t, i) => <TerpeneBadge key={i} name={t} />)}
                        </div>
                    </div>
                </div>
                <div className="text-right whitespace-nowrap pl-1 self-start pt-3">
                    <div className="font-inter font-black text-lg md:text-xl text-primary tracking-tight">
                        {product.p1} <span className="text-gray-500 text-sm align-middle mx-1 font-bold">|</span> {product.p35}
                    </div>
                </div>
            </div>
        );

        const BoxHeader = ({ title, bgColor }) => (
            <div className="flex justify-between items-center px-4 py-2 border-b border-white/10" style={{ backgroundColor: bgColor }}>
                <h2 className="font-inter font-black text-2xl text-white uppercase tracking-tight">{title}</h2>
                <span className="font-inter font-black text-white text-sm">1G | 3.5G</span>
            </div>
        );

        const App = () => {
            const [selectedProduct, setSelectedProduct] = useState(null);

            // Filter Products
            const sativa = products.filter(p => p.cat === 'SATIVA');
            const indica = products.filter(p => p.cat === 'INDICA');
            const hybrid = products.filter(p => p.cat === 'HYBRID');
            const cbd = products.filter(p => p.cat === 'CBD');
            const compound = products.filter(p => p.cat === 'COMPOUND');

            return (
                <div className="min-h-screen flex flex-col pb-10">
                    
                    {/* Sticky Nav */}
                    <nav className="sticky top-0 z-40 bg-[#1d1e1e]/95 backdrop-blur border-b border-gray-700 py-3">
                        <div className="max-w-[1400px] mx-auto px-4 overflow-x-auto no-scrollbar">
                            <div className="flex space-x-8 whitespace-nowrap font-inter font-bold text-sm text-gray-400 uppercase tracking-wide">
                                <button className="text-primary border-b-2 border-primary pb-1">MENU FLOWER</button>
                                <button className="hover:text-white transition-colors">STRAIN OF THE MONTH</button>
                                <button className="hover:text-white transition-colors">GREEN FRIDAY</button>
                                <button className="hover:text-white transition-colors text-primary">CONTACT</button>
                            </div>
                        </div>
                    </nav>

                    {/* Header */}
                    <header className="max-w-[1400px] mx-auto w-full px-4 pt-8 pb-6 text-center flex flex-col items-center">
                        <h2 className="font-inter font-black text-2xl text-white uppercase tracking-wider opacity-80 mb-2">THE DISPENSARY</h2>
                        <h1 className="font-inter font-black text-[40px] text-primary uppercase leading-none tracking-tight mb-2">FLOWER MENU</h1>
                        <p className="font-inter font-black text-lg text-white uppercase tracking-[0.2em] mb-6">JANUARY 2026</p>
                        
                        <div className="border-t border-b border-gray-600 py-4 grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 text-xs font-inter uppercase tracking-wide text-gray-400 w-full">
                            <div><strong className="block text-white mb-1 text-sm font-black">TRUSTED QUALITY</strong>HAND-TRIMMED, LAB-TESTED</div>
                            <div className="md:border-x border-gray-600"><strong className="block text-white mb-1 text-sm font-black">GACP CERTIFIED</strong>MEDICAL STANDARDS COMPLIANT</div>
                            <div><strong className="block text-white mb-1 text-sm font-black">PRESCRIPTION AVAILABLE</strong>DOCTOR'S PRESCRIPTIONS IN-STORE</div>
                        </div>
                    </header>

                    {/* CONTENT GRID */}
                    <main className="flex flex-col md:flex-row gap-6 max-w-[1400px] mx-auto w-full px-4">
                        
                        {/* LEFT COLUMN */}
                        <div className="w-full md:w-1/2 flex flex-col gap-6">
                            {/* 1. SATIVA */}
                            <div className="border border-white/20 rounded-sm overflow-hidden flex flex-col bg-white/[0.01]">
                                <BoxHeader title="SATIVA" bgColor="#9e9e5e" />
                                <div className="p-2 space-y-1">
                                    {sativa.map((p, idx) => <ProductCard key={idx} product={p} onClick={setSelectedProduct} />)}
                                </div>
                            </div>
                            {/* 2. CBD */}
                            <div className="border border-white/20 rounded-sm overflow-hidden bg-white/[0.01]">
                                <BoxHeader title="CBD" bgColor="#9e5e97" />
                                <div className="p-2">
                                    {cbd.map((p, idx) => <ProductCard key={idx} product={p} onClick={setSelectedProduct} />)}
                                </div>
                            </div>
                            
                            {/* 3. PRE-ROLLS */}
                            <div className="border border-white/20 rounded-sm overflow-hidden bg-white/[0.01] flex flex-col flex-1">
                                {/* Header Row */}
                                <div className="flex justify-between items-center px-4 py-3 border-b border-white/20">
                                    <h2 className="font-inter font-black text-3xl text-primary uppercase">PRE-ROLLS</h2>
                                    <div className="font-inter font-black text-2xl text-white">550/JOINT</div>
                                </div>
                                
                                {/* Content Body */}
                                <div className="p-4 flex flex-col flex-1 relative">
                                    {/* Badge Positioned absolutely or floating right */}
                                    <div className="absolute top-2 right-4 z-10">
                                         <BadgeElement type="BUY 2" size="md" />
                                    </div>

                                    {/* List */}
                                    <div className="grid grid-cols-2 gap-x-2 gap-y-3 content-center flex-1 mt-2">
                                        {preRolls.map((name, i) => (
                                            <div key={i} className="font-inter font-black text-[10px] md:text-xs text-gray-300 uppercase tracking-wide border-b border-gray-700/50 pb-1 flex items-start text-left">
                                                <span className="text-primary mr-1.5">•</span>
                                                <span>{name}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                <div className="px-4 pb-2 text-center text-[10px] text-gray-500 font-inter font-bold uppercase">(ROLLING SERVICE AVAILABLE FOR ALL STRAINS)</div>
                            </div>
                        </div>

                        {/* RIGHT COLUMN */}
                        <div className="w-full md:w-1/2 flex flex-col gap-6">
                            {/* 4. INDICA */}
                            <div className="border border-white/20 rounded-sm overflow-hidden bg-white/[0.01]">
                                <BoxHeader title="INDICA" bgColor="#158cab" />
                                <div className="p-2 space-y-1">
                                    {indica.map((p, idx) => <ProductCard key={idx} product={p} onClick={setSelectedProduct} />)}
                                </div>
                            </div>
                            {/* 5. HYBRID */}
                            <div className="border border-white/20 rounded-sm overflow-hidden bg-white/[0.01]">
                                <BoxHeader title="HYBRID" bgColor="#797a72" />
                                <div className="p-2 space-y-1">
                                    {hybrid.map((p, idx) => <ProductCard key={idx} product={p} onClick={setSelectedProduct} />)}
                                </div>
                            </div>
                            {/* 6. COMPOUND GENETICS */}
                            <div className="border border-blue-900/60 rounded-sm overflow-hidden bg-[#0a101f] relative flex flex-col">
                                <div className="absolute inset-0 opacity-10 pointer-events-none" style={{backgroundImage: 'radial-gradient(circle, #333 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                <div className="flex justify-between items-center px-4 py-3 border-b border-blue-900/40 relative z-10">
                                    <h2 className="font-inter font-black text-2xl text-white uppercase tracking-tight">COMPOUND GENETICS</h2>
                                    <span className="font-inter font-black text-white text-sm opacity-80">1G | 3.5G</span>
                                </div>
                                <div className="p-2 space-y-1 relative z-10 flex-1">
                                    {compound.map((p, idx) => <ProductCard key={idx} product={p} onClick={setSelectedProduct} />)}
                                </div>
                            </div>
                        </div>

                    </main>

                    {/* MODAL POPUP */}
                    {selectedProduct && (
                        <div className="fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fadeIn">
                            <div className="bg-[#1d1e1e] border border-gray-600 w-full max-w-md p-6 rounded-lg relative shadow-2xl">
                                <button onClick={() => setSelectedProduct(null)} className="absolute top-4 right-4 text-white hover:text-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                </button>
                                
                                <div className="mb-4 flex"><StatusBadge tags={selectedProduct.tags} size="full" /></div>
                                
                                <h2 className="font-inter font-black text-4xl text-primary uppercase leading-none mb-1">{selectedProduct.name}</h2>
                                
                                <p className="font-inter font-black text-gray-500 uppercase mb-6 tracking-widest text-sm">
                                    {selectedProduct.cat === 'COMPOUND' ? 'COMPOUND GENETICS' : selectedProduct.cat}
                                </p>

                                <div className="space-y-4 border-t border-gray-700 pt-4">
                                    <div className="flex justify-between items-center"><span className="font-inter font-black text-gray-400 text-sm">THC / CBD</span><span className="font-inter font-black text-white text-xl">THC {selectedProduct.thc} | CBD {selectedProduct.cbd}</span></div>
                                    <div className="flex justify-between items-center"><span className="font-inter font-black text-gray-400 text-sm">PRICE (1G / 3.5G)</span><span className="font-inter font-black text-primary text-2xl">{selectedProduct.p1} / {selectedProduct.p35}</span></div>
                                </div>
                                <div className="mt-6 border-t border-gray-700 pt-4">
                                    <p className="font-inter font-bold text-gray-500 text-xs uppercase mb-3">TERPENES PROFILE</p>
                                    <div className="flex flex-wrap gap-2">{selectedProduct.terpenes.map((t, i) => <span key={i} className="bg-gray-800 border border-gray-600 text-white font-mont font-bold text-xs px-3 py-1 rounded-full uppercase">{t}</span>)}</div>
                                </div>
                                <button onClick={() => setSelectedProduct(null)} className="w-full mt-8 bg-primary hover:bg-white text-black font-inter font-black py-3 uppercase rounded transition-colors">CLOSE</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>